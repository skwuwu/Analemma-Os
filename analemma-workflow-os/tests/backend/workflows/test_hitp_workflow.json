{
    "workflow_name": "HITP Segmentation Test Workflow",
    "description": "Human-in-the-loop segmentation test workflow",
    "nodes": [
        {
            "id": "prep_node",
            "type": "operator_official",
            "config": {
                "strategy": "echo",
                "input": true,
                "output_key": "hitp_prepared"
            }
        },
        {
            "id": "prep_node_2",
            "type": "operator_official",
            "config": {
                "strategy": "echo",
                "input": {
                    "status": "hitp_prep_completed",
                    "ready_for_segmentation": true
                },
                "output_key": "prep_result"
            }
        },
        {
            "id": "validator_node",
            "type": "safe_operator",
            "config": {
                "strategy": "if_else",
                "params": {
                    "condition": "$.hitp_prepared and $.prep_result.ready_for_segmentation",
                    "then": "✅ SUCCESS: HITP preparation status confirmed",
                    "else": "❌ FAILURE: HITP preparation failed"
                },
                "output_key": "TEST_RESULT"
            }
        },
        {
            "id": "approval_required_node",
            "type": "operator_official",
            "config": {
                "strategy": "echo",
                "input": true,
                "output_key": "requires_approval"
            }
        },
        {
            "id": "approval_required_node_2",
            "type": "operator_official",
            "config": {
                "strategy": "echo",
                "input": {
                    "status": "awaiting_human_approval",
                    "approval_type": "manual_review_required"
                },
                "output_key": "approval_result"
            }
        }
    ],
    "edges": [
        {
            "source": "prep_node",
            "target": "prep_node_2"
        },
        {
            "source": "approval_required_node",
            "target": "approval_required_node_2"
        },
        {
            "source": "prep_node_2",
            "target": "validator_node",
            "type": "normal"
        },
        {
            "source": "validator_node",
            "target": "approval_required_node",
            "type": "hitp"
        }
    ],
    "start_node": "prep_node"
}