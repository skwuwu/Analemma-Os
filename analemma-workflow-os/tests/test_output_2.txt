============================= test session starts =============================
platform win32 -- Python 3.12.10, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\gimgy\AppData\Local\Programs\Python\Python312\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\gimgy\OneDrive\바탕 화면\analemma-fullstack-antigravity
configfile: pytest.ini
plugins: mock-3.15.1
collecting ... collected 194 items

backend\integration\test_api_contract.py::TestAPIResponseSchemaContract::test_get_workflow_handler_returns_camel_case PASSED [  0%]
backend\integration\test_api_contract.py::TestAPIResponseSchemaContract::test_correction_api_401_error_format FAILED [  1%]
backend\integration\test_api_contract.py::TestAPIResponseSchemaContract::test_get_workflow_404_when_not_found PASSED [  1%]
backend\integration\test_api_contract.py::TestAPIResponseSchemaContract::test_options_request_cors_handling PASSED [  2%]
backend\integration\test_api_contract.py::TestPaginationParameters::test_limit_parameter_validation PASSED [  2%]
backend\integration\test_api_contract.py::TestPaginationParameters::test_next_token_roundtrip PASSED [  3%]
backend\integration\test_api_contract.py::TestPaginationParameters::test_sort_order_values PASSED [  3%]
backend\integration\test_api_contract.py::TestHTTPStatusCodeConsistency::test_success_codes PASSED [  4%]
backend\integration\test_api_contract.py::TestHTTPStatusCodeConsistency::test_error_codes_mapping PASSED [  4%]
backend\integration\test_api_contract.py::TestWebSocketContract::test_progress_message_format PASSED [  5%]
backend\integration\test_api_contract.py::TestWebSocketContract::test_error_message_format PASSED [  5%]
backend\integration\test_api_contract.py::TestWebSocketContract::test_hitl_pause_message_format PASSED [  6%]
backend\integration\test_core_features.py::TestPlanBriefingCore::test_plan_step_model_validation PASSED [  6%]
backend\integration\test_core_features.py::TestPlanBriefingCore::test_plan_step_with_external_side_effect PASSED [  7%]
backend\integration\test_core_features.py::TestPlanBriefingCore::test_draft_result_model PASSED [  7%]
backend\integration\test_core_features.py::TestPlanBriefingCore::test_plan_briefing_service_default_durations PASSED [  8%]
backend\integration\test_core_features.py::TestPlanBriefingCore::test_plan_briefing_service_side_effect_types PASSED [  8%]
backend\integration\test_core_features.py::TestPlanBriefingCore::test_plan_step_invalid_risk_level_raises_error PASSED [  9%]
backend\integration\test_core_features.py::TestPlanBriefingCore::test_plan_step_negative_step_number_raises_error PASSED [  9%]
backend\integration\test_core_features.py::TestPlanBriefingCore::test_plan_step_negative_duration_raises_error PASSED [ 10%]
backend\integration\test_core_features.py::TestPlanBriefingCore::test_undefined_node_type_uses_default_duration PASSED [ 10%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_task_status_conversion[RUNNING-IN_PROGRESS] PASSED [ 11%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_task_status_conversion[PAUSED_FOR_HITP-PENDING_APPROVAL] PASSED [ 11%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_task_status_conversion[COMPLETED-COMPLETED] PASSED [ 12%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_task_status_conversion[FAILED-FAILED] PASSED [ 12%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_task_status_conversion[running-IN_PROGRESS] PASSED [ 13%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_task_status_conversion[Running-IN_PROGRESS] PASSED [ 13%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_task_status_conversion[STARTED-IN_PROGRESS] PASSED [ 14%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_task_status_conversion[SUCCEEDED-COMPLETED] PASSED [ 14%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_task_status_conversion[TIMED_OUT-FAILED] PASSED [ 15%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_task_status_conversion[ABORTED-CANCELLED] PASSED [ 15%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_friendly_error_message_generation[timeout error occurred-\uc2dc\uac04] PASSED [ 16%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_friendly_error_message_generation[403 forbidden-\uad8c\ud55c] PASSED [ 17%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_friendly_error_message_generation[connection refused-\uc5f0\uacb0] PASSED [ 17%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_friendly_error_message_generation[401 unauthorized-\uc778\uc99d] PASSED [ 18%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_friendly_error_message_generation[500 internal server error-\ubb38\uc81c] PASSED [ 18%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_friendly_error_message_generation[Request timeout after 30 seconds-\uc2dc\uac04] PASSED [ 19%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_friendly_error_message_generation[ERROR 503 Service Unavailable-\uc774\uc6a9] PASSED [ 19%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_task_context_model PASSED [ 20%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_artifact_preview_model PASSED [ 20%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_unknown_error_returns_fallback[kernel panic - not syncing: VFS: Unable to mount root fs] PASSED [ 21%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_unknown_error_returns_fallback[Segmentation fault (core dumped)] PASSED [ 21%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_unknown_error_returns_fallback[xyzzy_unknown_error_12345] PASSED [ 22%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_unknown_error_returns_fallback[\u5b8c\u5168\u306b\u7406\u89e3\u3067\u304d\u306a\u3044\u30a8\u30e9\u30fc] PASSED [ 22%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_unknown_error_returns_fallback[] PASSED [ 23%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_unknown_error_returns_fallback[   ] PASSED [ 23%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_unknown_error_returns_fallback[None] PASSED [ 24%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_progress_percentage_boundary_validation[-1] PASSED [ 24%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_progress_percentage_boundary_validation[-10] PASSED [ 25%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_progress_percentage_boundary_validation[-100] PASSED [ 25%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_progress_percentage_boundary_validation[101] PASSED [ 26%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_progress_percentage_boundary_validation[150] PASSED [ 26%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_progress_percentage_boundary_validation[999] PASSED [ 27%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_progress_percentage_valid_range[0] PASSED [ 27%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_progress_percentage_valid_range[1] PASSED [ 28%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_progress_percentage_valid_range[50] PASSED [ 28%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_progress_percentage_valid_range[99] PASSED [ 29%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_progress_percentage_valid_range[100] PASSED [ 29%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_unknown_technical_status_falls_back[QUANTUM_SUPERPOSITION] PASSED [ 30%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_unknown_technical_status_falls_back[STATUS_404_NOT_FOUND] PASSED [ 30%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_unknown_technical_status_falls_back[] PASSED [ 31%]
backend\integration\test_core_features.py::TestTaskManagerCore::test_unknown_technical_status_falls_back[null] PASSED [ 31%]
backend\integration\test_core_features.py::TestInstructionDistillerCore::test_correction_type_enum PASSED [ 32%]
backend\integration\test_core_features.py::TestInstructionDistillerCore::test_task_category_enum PASSED [ 32%]
backend\integration\test_core_features.py::TestInstructionDistillerCore::test_correction_log_model_creation PASSED [ 33%]
backend\integration\test_core_features.py::TestInstructionDistillerCore::test_distilled_instruction_model PASSED [ 34%]
backend\integration\test_core_features.py::TestInstructionDistillerCore::test_conflict_resolver_detect_conflicts PASSED [ 34%]
backend\integration\test_core_features.py::TestInstructionDistillerCore::test_partial_signature_conflict_tone_only PASSED [ 35%]
backend\integration\test_core_features.py::TestInstructionDistillerCore::test_partial_signature_key_missing_no_conflict PASSED [ 35%]
backend\integration\test_core_features.py::TestInstructionDistillerCore::test_conflict_detection_with_100_instructions PASSED [ 36%]
backend\integration\test_core_features.py::TestInstructionDistillerCore::test_confidence_string_coercion PASSED [ 36%]
backend\integration\test_core_features.py::TestInstructionDistillerCore::test_edit_distance_string_coercion PASSED [ 37%]
backend\integration\test_core_features.py::TestInstructionDistillerCore::test_confidence_decimal_coercion PASSED [ 37%]
backend\integration\test_core_features.py::TestWorkflowAnalysisPureFunctions::test_workflow_node_ordering_linear PASSED [ 38%]
backend\integration\test_core_features.py::TestWorkflowAnalysisPureFunctions::test_cycle_detection_simple PASSED [ 38%]
backend\integration\test_core_features.py::TestWorkflowAnalysisPureFunctions::test_cycle_detection_self_loop PASSED [ 39%]
backend\integration\test_core_features.py::TestWorkflowAnalysisPureFunctions::test_isolated_node_handling PASSED [ 39%]
backend\integration\test_core_features.py::TestWorkflowAnalysisPureFunctions::test_multiple_roots_handling PASSED [ 40%]
backend\integration\test_core_features.py::TestWorkflowAnalysisPureFunctions::test_diamond_dependency PASSED [ 40%]
backend\integration\test_core_features.py::TestWorkflowAnalysisPureFunctions::test_risk_level_calculation PASSED [ 41%]
backend\integration\test_core_features.py::TestWorkflowAnalysisPureFunctions::test_empty_workflow PASSED [ 41%]
backend\integration\test_core_features.py::TestWorkflowAnalysisPureFunctions::test_nodes_only_no_edges PASSED [ 42%]
backend\integration\test_core_features.py::TestMetadataSignatureConflict::test_signature_exact_match PASSED [ 42%]
backend\integration\test_core_features.py::TestMetadataSignatureConflict::test_signature_conflict_detection PASSED [ 43%]
backend\integration\test_core_features.py::TestMetadataSignatureConflict::test_signature_no_overlap PASSED [ 43%]
backend\integration\test_core_features.py::TestMetadataSignatureConflict::test_signature_subset_match PASSED [ 44%]
backend\integration\test_core_features.py::TestMetadataSignatureConflict::test_signature_empty PASSED [ 44%]
backend\integration\test_core_features.py::TestMetadataSignatureConflict::test_signature_multiple_conflicts PASSED [ 45%]
backend\integration\test_core_features.py::TestDynamoDBRoundTrip::test_correction_log_roundtrip PASSED [ 45%]
backend\integration\test_core_features.py::TestDynamoDBRoundTrip::test_enum_serialization_deserialization PASSED [ 46%]
backend\integration\test_core_features.py::TestDynamoDBRoundTrip::test_decimal_handling_from_dynamodb PASSED [ 46%]
backend\integration\test_core_features.py::TestDynamoDBRoundTrip::test_missing_optional_fields PASSED [ 47%]
backend\integration\test_core_features.py::TestIntentionalFailures::test_invalid_task_category_raises_error PASSED [ 47%]
backend\integration\test_core_features.py::TestIntentionalFailures::test_invalid_correction_type_raises_error PASSED [ 48%]
backend\integration\test_core_features.py::TestIntentionalFailures::test_confidence_out_of_range_raises_error PASSED [ 48%]
backend\integration\test_core_features.py::TestIntentionalFailures::test_negative_edit_distance_raises_error PASSED [ 49%]
backend\integration\test_core_features.py::TestIntentionalFailures::test_invalid_artifact_type_raises_error PASSED [ 50%]
backend\integration\test_correction_system_core.py::TestCorrectionSystemCore::test_auth_missing_returns_401 FAILED [ 50%]
backend\integration\test_correction_system_core.py::TestCorrectionSystemCore::test_validation_missing_node_id FAILED [ 51%]
backend\integration\test_correction_system_core.py::TestCorrectionSystemCore::test_successful_correction_submission FAILED [ 51%]
backend\integration\test_correction_system_core.py::TestCorrectionSystemCore::test_large_payload_exceeds_max_length FAILED [ 52%]
backend\integration\test_correction_system_core.py::TestCorrectionSystemCore::test_invalid_json_returns_400 FAILED [ 52%]
backend\integration\test_correction_system_core.py::TestCorrectionSystemCore::test_special_characters_handled FAILED [ 53%]
backend\integration\test_distributed_core.py::TestAggregateDistributedResultsCore::test_aggregate_empty_results_returns_failed FAILED [ 53%]
backend\integration\test_distributed_core.py::TestAggregateDistributedResultsCore::test_aggregate_multiple_results_success FAILED [ 54%]
backend\integration\test_distributed_core.py::TestAggregateDistributedResultsCore::test_aggregate_handles_partial_failure FAILED [ 54%]
backend\integration\test_distributed_core.py::TestStoreDistributedTaskTokenCore::test_store_distributed_token_success PASSED [ 55%]
backend\integration\test_distributed_core.py::TestStoreDistributedTaskTokenCore::test_store_distributed_token_requires_task_token PASSED [ 55%]
backend\integration\test_distributed_core.py::TestStoreDistributedTaskTokenCore::test_store_distributed_token_requires_parent_execution_id PASSED [ 56%]
backend\integration\test_execution_lifecycle.py::TestCheckIdempotency::test_idempotency_check_new_keys[new-key-12345-False] PASSED [ 56%]
backend\integration\test_execution_lifecycle.py::TestCheckIdempotency::test_idempotency_check_new_keys[-False] PASSED [ 57%]
backend\integration\test_execution_lifecycle.py::TestCheckIdempotency::test_idempotency_check_new_keys[None-False] PASSED [ 57%]
backend\integration\test_execution_lifecycle.py::TestCheckIdempotency::test_idempotency_check_finds_existing PASSED [ 58%]
backend\integration\test_execution_lifecycle.py::TestStopExecution::test_stop_execution_validation[event0-401] PASSED [ 58%]
backend\integration\test_execution_lifecycle.py::TestStopExecution::test_stop_execution_validation[event1-400] PASSED [ 59%]
backend\integration\test_execution_lifecycle.py::TestStopExecution::test_stop_execution_not_found PASSED [ 59%]
backend\integration\test_execution_lifecycle.py::TestStopExecution::test_stop_execution_already_finished[SUCCEEDED] PASSED [ 60%]
backend\integration\test_execution_lifecycle.py::TestStopExecution::test_stop_execution_already_finished[FAILED] PASSED [ 60%]
backend\integration\test_execution_lifecycle.py::TestStopExecution::test_stop_execution_already_finished[TIMED_OUT] PASSED [ 61%]
backend\integration\test_execution_lifecycle.py::TestStopExecution::test_stop_execution_already_finished[ABORTED] PASSED [ 61%]
backend\integration\test_execution_lifecycle.py::TestListMyExecutions::test_list_executions_auth[event0-401] PASSED [ 62%]
backend\integration\test_execution_lifecycle.py::TestListMyExecutions::test_list_executions_auth[event1-500] PASSED [ 62%]
backend\integration\test_execution_lifecycle.py::TestListMyExecutions::test_list_executions_pagination_limit[1-1] PASSED [ 63%]
backend\integration\test_execution_lifecycle.py::TestListMyExecutions::test_list_executions_pagination_limit[10-10] PASSED [ 63%]
backend\integration\test_execution_lifecycle.py::TestListMyExecutions::test_list_executions_pagination_limit[100-100] PASSED [ 64%]
backend\integration\test_execution_lifecycle.py::TestFinalizer::test_finalizer_terminal_states[SUCCEEDED-True] PASSED [ 64%]
backend\integration\test_execution_lifecycle.py::TestFinalizer::test_finalizer_terminal_states[FAILED-True] PASSED [ 65%]
backend\integration\test_execution_lifecycle.py::TestFinalizer::test_finalizer_terminal_states[TIMED_OUT-True] PASSED [ 65%]
backend\integration\test_execution_lifecycle.py::TestFinalizer::test_finalizer_terminal_states[ABORTED-True] PASSED [ 66%]
backend\integration\test_execution_lifecycle.py::TestFinalizer::test_finalizer_terminal_states[RUNNING-False] PASSED [ 67%]
backend\integration\test_execution_lifecycle.py::TestFinalizer::test_finalizer_terminal_states[PENDING-False] PASSED [ 67%]
backend\integration\test_execution_lifecycle.py::TestWorkflowCRUD::test_delete_workflow_validation[event0-401] PASSED [ 68%]
backend\integration\test_execution_lifecycle.py::TestWorkflowCRUD::test_delete_workflow_validation[event1-400] PASSED [ 68%]
backend\integration\test_execution_lifecycle.py::TestWorkflowCRUD::test_delete_workflow_options_cors PASSED [ 69%]
backend\integration\test_execution_lifecycle.py::TestExecutionProgressNotifier::test_get_user_connection_ids_empty FAILED [ 69%]
backend\integration\test_execution_lifecycle.py::TestExecutionProgressNotifier::test_get_user_connections_invalid_owner[-True] FAILED [ 70%]
backend\integration\test_execution_lifecycle.py::TestExecutionProgressNotifier::test_get_user_connections_invalid_owner[None-True] FAILED [ 70%]
backend\integration\test_infrastructure_edge_cases.py::TestS3OffloadingEdgeCases::test_payload_size_calculation_using_production_code FAILED [ 71%]
backend\integration\test_infrastructure_edge_cases.py::TestS3OffloadingEdgeCases::test_compression_roundtrip_using_production_code FAILED [ 71%]
backend\integration\test_infrastructure_edge_cases.py::TestS3OffloadingEdgeCases::test_s3_store_using_production_code FAILED [ 72%]
backend\integration\test_infrastructure_edge_cases.py::TestS3OffloadingEdgeCases::test_payload_just_above_limit_requires_offload FAILED [ 72%]
backend\integration\test_infrastructure_edge_cases.py::TestS3OffloadingEdgeCases::test_s3_offload_data_integrity PASSED [ 73%]
backend\integration\test_infrastructure_edge_cases.py::TestS3OffloadingEdgeCases::test_s3_key_uniqueness_parallel_executions PASSED [ 73%]
backend\integration\test_infrastructure_edge_cases.py::TestDistributedProcessingEdgeCases::test_concurrent_state_update_optimistic_locking PASSED [ 74%]
backend\integration\test_infrastructure_edge_cases.py::TestDistributedProcessingEdgeCases::test_max_concurrency_queue_simulation PASSED [ 74%]
backend\integration\test_infrastructure_edge_cases.py::TestMassiveAggregationEdgeCases::test_aggregate_distributed_results_with_production_code FAILED [ 75%]
backend\integration\test_infrastructure_edge_cases.py::TestMassiveAggregationEdgeCases::test_aggregate_with_failed_chunks_using_production_code FAILED [ 75%]
backend\integration\test_infrastructure_edge_cases.py::TestMassiveAggregationEdgeCases::test_aggregate_hitp_paused_chunks FAILED [ 76%]
backend\integration\test_infrastructure_edge_cases.py::TestMassiveAggregationEdgeCases::test_aggregate_empty_results FAILED [ 76%]
backend\integration\test_infrastructure_edge_cases.py::TestRecursiveExplosionScenarios::test_aggregate_result_itself_exceeds_limit FAILED [ 77%]
backend\integration\test_infrastructure_edge_cases.py::TestRecursiveExplosionScenarios::test_s3_offload_preserves_data_integrity_on_large_aggregation FAILED [ 77%]
backend\integration\test_infrastructure_edge_cases.py::TestPoisonPillDataScenarios::test_aggregate_handles_corrupted_chunk_data FAILED [ 78%]
backend\integration\test_infrastructure_edge_cases.py::TestPoisonPillDataScenarios::test_aggregate_handles_invalid_chunk_format FAILED [ 78%]
backend\integration\test_infrastructure_edge_cases.py::TestPoisonPillDataScenarios::test_s3_load_handles_corrupted_json FAILED [ 79%]
backend\integration\test_infrastructure_edge_cases.py::TestHighConcurrencyRaceConditions::test_high_concurrency_state_contention PASSED [ 79%]
backend\integration\test_infrastructure_edge_cases.py::TestHighConcurrencyRaceConditions::test_transaction_prevents_data_loss PASSED [ 80%]
backend\integration\test_infrastructure_edge_cases.py::TestS3ConsistencyAndRetry::test_aggregation_waits_for_s3_availability FAILED [ 80%]
backend\integration\test_infrastructure_edge_cases.py::TestS3ConsistencyAndRetry::test_s3_upload_temporary_failure_retry FAILED [ 81%]
backend\integration\test_infrastructure_edge_cases.py::TestS3ConsistencyAndRetry::test_exponential_backoff_timing PASSED [ 81%]
backend\integration\test_infrastructure_edge_cases.py::TestS3ConsistencyAndRetry::test_s3_read_after_write_consistency PASSED [ 82%]
backend\integration\test_infrastructure_edge_cases.py::TestS3ConsistencyAndRetry::test_noSuchKey_graceful_handling PASSED [ 82%]
backend\integration\test_resume_system_core.py::TestResumeHandlerCore::test_resume_requires_auth PASSED [ 83%]
backend\integration\test_resume_system_core.py::TestResumeHandlerCore::test_resume_requires_task_token PASSED [ 84%]
backend\integration\test_resume_system_core.py::TestStoreTaskTokenCore::test_store_task_token_success FAILED [ 84%]
backend\integration\test_resume_system_core.py::TestStoreTaskTokenCore::test_store_task_token_requires_all_fields FAILED [ 85%]
backend\integration\test_resume_system_core.py::TestResumeChunkProcessingCore::test_idempotency_key_generation PASSED [ 85%]
backend\integration\test_resume_system_core.py::TestResumeChunkProcessingCore::test_idempotency_key_too_long_unsafe PASSED [ 86%]
backend\integration\test_resume_system_core.py::TestResumeChunkProcessingCore::test_double_resumption_warning PASSED [ 86%]
backend\integration\test_vector_sync_core.py::TestVectorSyncServiceCore::test_service_initialization PASSED [ 87%]
backend\integration\test_vector_sync_core.py::TestVectorSyncServiceCore::test_calculate_backoff_delay PASSED [ 87%]
backend\integration\test_vector_sync_core.py::TestVectorSyncServiceCore::test_count_tokens_with_text PASSED [ 88%]
backend\integration\test_vector_sync_core.py::TestVectorSyncServiceCore::test_should_retry_error_classification PASSED [ 88%]
backend\integration\test_vector_sync_core.py::TestVectorSyncServiceCore::test_optimization_metrics_available PASSED [ 89%]
backend\unit\test_node_stats_collector.py::TestNodeStatsCollector::test_infer_node_type_classification PASSED [ 89%]
backend\unit\test_node_stats_collector.py::TestNodeStatsCollector::test_infer_node_type_generation PASSED [ 90%]
backend\unit\test_node_stats_collector.py::TestNodeStatsCollector::test_infer_node_type_reasoning PASSED [ 90%]
backend\unit\test_node_stats_collector.py::TestNodeStatsCollector::test_infer_node_type_api_call PASSED [ 91%]
backend\unit\test_node_stats_collector.py::TestNodeStatsCollector::test_infer_node_type_database PASSED [ 91%]
backend\unit\test_node_stats_collector.py::TestNodeStatsCollector::test_infer_node_type_default PASSED [ 92%]
backend\unit\test_node_stats_collector.py::TestNodeStatsCollector::test_update_node_stats_outlier_filtered PASSED [ 92%]
backend\unit\test_node_stats_collector.py::TestNodeStatsCollector::test_update_node_stats_normal_update PASSED [ 93%]
backend\unit\test_node_stats_collector.py::TestNodeStatsCollector::test_update_node_stats_initial_creation PASSED [ 93%]
backend\unit\test_security_core.py::TestAuthUtilsCore::test_extract_owner_id_from_event[event0-user-abc-123] PASSED [ 94%]
backend\unit\test_security_core.py::TestAuthUtilsCore::test_extract_owner_id_from_event[event1-rest-user-456] PASSED [ 94%]
backend\unit\test_security_core.py::TestAuthUtilsCore::test_extract_owner_id_from_event[event2-None] PASSED [ 95%]
backend\unit\test_security_core.py::TestAuthUtilsCore::test_extract_owner_id_from_event[event3-None] PASSED [ 95%]
backend\unit\test_security_core.py::TestAuthUtilsCore::test_extract_owner_id_from_event[event4-None] PASSED [ 96%]
backend\unit\test_security_core.py::TestAuthUtilsCore::test_require_authentication_raises_on_missing PASSED [ 96%]
backend\unit\test_security_core.py::TestGetWorkflowSecurity::test_get_workflow_requires_auth PASSED [ 97%]
backend\unit\test_security_core.py::TestGetWorkflowSecurity::test_get_workflow_ignores_query_param_owner_id PASSED [ 97%]
backend\unit\test_security_core.py::TestInputSanitization::test_xss_patterns_escaped[input_data0-&lt;script&gt;] FAILED [ 98%]
backend\unit\test_security_core.py::TestInputSanitization::test_xss_patterns_escaped[input_data1-&lt;] FAILED [ 98%]
backend\unit\test_security_core.py::TestInputSanitization::test_nested_object_sanitized FAILED [ 99%]
backend\unit\test_security_core.py::TestPathTraversal::test_dangerous_paths_detected PASSED [100%]

================================== FAILURES ===================================
_____ TestAPIResponseSchemaContract.test_correction_api_401_error_format ______
backend\integration\test_api_contract.py:143: in test_correction_api_401_error_format
    from backend.correction_api_handler import lambda_log_correction
..\backend\apps\backend\backend\correction_api_handler.py:34: in <module>
    from .services.correction_service import CorrectionService
..\backend\apps\backend\backend\services\correction_service.py:16: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
------------------------------ Captured log call ------------------------------
WARNING  root:correction_api_handler.py:32 PyJWT not available - using mock authentication for development
___________ TestCorrectionSystemCore.test_auth_missing_returns_401 ____________
backend\integration\test_correction_system_core.py:55: in test_auth_missing_returns_401
    from backend.correction_api_handler import lambda_log_correction
..\backend\apps\backend\backend\correction_api_handler.py:34: in <module>
    from .services.correction_service import CorrectionService
..\backend\apps\backend\backend\services\correction_service.py:16: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
------------------------------ Captured log call ------------------------------
WARNING  root:correction_api_handler.py:32 PyJWT not available - using mock authentication for development
__________ TestCorrectionSystemCore.test_validation_missing_node_id ___________
backend\integration\test_correction_system_core.py:74: in test_validation_missing_node_id
    from backend.correction_api_handler import lambda_log_correction
..\backend\apps\backend\backend\correction_api_handler.py:34: in <module>
    from .services.correction_service import CorrectionService
..\backend\apps\backend\backend\services\correction_service.py:16: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
------------------------------ Captured log call ------------------------------
WARNING  root:correction_api_handler.py:32 PyJWT not available - using mock authentication for development
_______ TestCorrectionSystemCore.test_successful_correction_submission ________
backend\integration\test_correction_system_core.py:93: in test_successful_correction_submission
    from backend.correction_api_handler import lambda_log_correction
..\backend\apps\backend\backend\correction_api_handler.py:34: in <module>
    from .services.correction_service import CorrectionService
..\backend\apps\backend\backend\services\correction_service.py:16: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
------------------------------ Captured log call ------------------------------
WARNING  root:correction_api_handler.py:32 PyJWT not available - using mock authentication for development
_______ TestCorrectionSystemCore.test_large_payload_exceeds_max_length ________
backend\integration\test_correction_system_core.py:119: in test_large_payload_exceeds_max_length
    from backend.correction_api_handler import lambda_log_correction
..\backend\apps\backend\backend\correction_api_handler.py:34: in <module>
    from .services.correction_service import CorrectionService
..\backend\apps\backend\backend\services\correction_service.py:16: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
------------------------------ Captured log call ------------------------------
WARNING  root:correction_api_handler.py:32 PyJWT not available - using mock authentication for development
___________ TestCorrectionSystemCore.test_invalid_json_returns_400 ____________
backend\integration\test_correction_system_core.py:139: in test_invalid_json_returns_400
    from backend.correction_api_handler import lambda_log_correction
..\backend\apps\backend\backend\correction_api_handler.py:34: in <module>
    from .services.correction_service import CorrectionService
..\backend\apps\backend\backend\services\correction_service.py:16: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
------------------------------ Captured log call ------------------------------
WARNING  root:correction_api_handler.py:32 PyJWT not available - using mock authentication for development
__________ TestCorrectionSystemCore.test_special_characters_handled ___________
backend\integration\test_correction_system_core.py:151: in test_special_characters_handled
    from backend.correction_api_handler import lambda_log_correction
..\backend\apps\backend\backend\correction_api_handler.py:34: in <module>
    from .services.correction_service import CorrectionService
..\backend\apps\backend\backend\services\correction_service.py:16: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
------------------------------ Captured log call ------------------------------
WARNING  root:correction_api_handler.py:32 PyJWT not available - using mock authentication for development
_ TestAggregateDistributedResultsCore.test_aggregate_empty_results_returns_failed _
backend\integration\test_distributed_core.py:52: in test_aggregate_empty_results_returns_failed
    from backend.aggregate_distributed_results import lambda_handler
..\backend\apps\backend\backend\aggregate_distributed_results.py:14: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
_ TestAggregateDistributedResultsCore.test_aggregate_multiple_results_success _
backend\integration\test_distributed_core.py:67: in test_aggregate_multiple_results_success
    from backend.aggregate_distributed_results import lambda_handler
..\backend\apps\backend\backend\aggregate_distributed_results.py:14: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
_ TestAggregateDistributedResultsCore.test_aggregate_handles_partial_failure __
backend\integration\test_distributed_core.py:86: in test_aggregate_handles_partial_failure
    from backend.aggregate_distributed_results import lambda_handler
..\backend\apps\backend\backend\aggregate_distributed_results.py:14: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
______ TestExecutionProgressNotifier.test_get_user_connection_ids_empty _______
backend\integration\test_execution_lifecycle.py:303: in test_get_user_connection_ids_empty
    from execution_progress_notifier import get_user_connection_ids
..\backend\apps\backend\backend\execution_progress_notifier.py:35: in <module>
    WEBSOCKET_OWNER_ID_GSI = DynamoDBConfig.WEBSOCKET_OWNER_ID_GSI
                             ^^^^^^^^^^^^^^
E   NameError: name 'DynamoDBConfig' is not defined
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
_ TestExecutionProgressNotifier.test_get_user_connections_invalid_owner[-True] _
backend\integration\test_execution_lifecycle.py:317: in test_get_user_connections_invalid_owner
    from execution_progress_notifier import get_user_connection_ids
..\backend\apps\backend\backend\execution_progress_notifier.py:35: in <module>
    WEBSOCKET_OWNER_ID_GSI = DynamoDBConfig.WEBSOCKET_OWNER_ID_GSI
                             ^^^^^^^^^^^^^^
E   NameError: name 'DynamoDBConfig' is not defined
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
_ TestExecutionProgressNotifier.test_get_user_connections_invalid_owner[None-True] _
backend\integration\test_execution_lifecycle.py:317: in test_get_user_connections_invalid_owner
    from execution_progress_notifier import get_user_connection_ids
..\backend\apps\backend\backend\execution_progress_notifier.py:35: in <module>
    WEBSOCKET_OWNER_ID_GSI = DynamoDBConfig.WEBSOCKET_OWNER_ID_GSI
                             ^^^^^^^^^^^^^^
E   NameError: name 'DynamoDBConfig' is not defined
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
_ TestS3OffloadingEdgeCases.test_payload_size_calculation_using_production_code _
backend\integration\test_infrastructure_edge_cases.py:91: in test_payload_size_calculation_using_production_code
    from backend.state_data_manager import calculate_payload_size
..\backend\apps\backend\backend\state_data_manager.py:22: in <module>
    from common.logging_utils import get_logger
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
_ TestS3OffloadingEdgeCases.test_compression_roundtrip_using_production_code __
backend\integration\test_infrastructure_edge_cases.py:106: in test_compression_roundtrip_using_production_code
    from backend.state_data_manager import compress_data, decompress_data
..\backend\apps\backend\backend\state_data_manager.py:22: in <module>
    from common.logging_utils import get_logger
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
________ TestS3OffloadingEdgeCases.test_s3_store_using_production_code ________
backend\integration\test_infrastructure_edge_cases.py:129: in test_s3_store_using_production_code
    from backend.state_data_manager import store_to_s3, generate_s3_key
..\backend\apps\backend\backend\state_data_manager.py:22: in <module>
    from common.logging_utils import get_logger
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
__ TestS3OffloadingEdgeCases.test_payload_just_above_limit_requires_offload ___
backend\integration\test_infrastructure_edge_cases.py:150: in test_payload_just_above_limit_requires_offload
    from backend.state_data_manager import calculate_payload_size
..\backend\apps\backend\backend\state_data_manager.py:22: in <module>
    from common.logging_utils import get_logger
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
_ TestMassiveAggregationEdgeCases.test_aggregate_distributed_results_with_production_code _
backend\integration\test_infrastructure_edge_cases.py:318: in test_aggregate_distributed_results_with_production_code
    from backend.aggregate_distributed_results import lambda_handler
..\backend\apps\backend\backend\aggregate_distributed_results.py:14: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
_ TestMassiveAggregationEdgeCases.test_aggregate_with_failed_chunks_using_production_code _
backend\integration\test_infrastructure_edge_cases.py:360: in test_aggregate_with_failed_chunks_using_production_code
    from backend.aggregate_distributed_results import lambda_handler
..\backend\apps\backend\backend\aggregate_distributed_results.py:14: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
______ TestMassiveAggregationEdgeCases.test_aggregate_hitp_paused_chunks ______
backend\integration\test_infrastructure_edge_cases.py:385: in test_aggregate_hitp_paused_chunks
    from backend.aggregate_distributed_results import lambda_handler
..\backend\apps\backend\backend\aggregate_distributed_results.py:14: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
________ TestMassiveAggregationEdgeCases.test_aggregate_empty_results _________
backend\integration\test_infrastructure_edge_cases.py:405: in test_aggregate_empty_results
    from backend.aggregate_distributed_results import lambda_handler
..\backend\apps\backend\backend\aggregate_distributed_results.py:14: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
_ TestRecursiveExplosionScenarios.test_aggregate_result_itself_exceeds_limit __
backend\integration\test_infrastructure_edge_cases.py:432: in test_aggregate_result_itself_exceeds_limit
    from backend.aggregate_distributed_results import lambda_handler
..\backend\apps\backend\backend\aggregate_distributed_results.py:14: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
_ TestRecursiveExplosionScenarios.test_s3_offload_preserves_data_integrity_on_large_aggregation _
backend\integration\test_infrastructure_edge_cases.py:489: in test_s3_offload_preserves_data_integrity_on_large_aggregation
    from backend.state_data_manager import store_to_s3, calculate_payload_size
..\backend\apps\backend\backend\state_data_manager.py:22: in <module>
    from common.logging_utils import get_logger
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
___ TestPoisonPillDataScenarios.test_aggregate_handles_corrupted_chunk_data ___
backend\integration\test_infrastructure_edge_cases.py:537: in test_aggregate_handles_corrupted_chunk_data
    from backend.aggregate_distributed_results import lambda_handler
..\backend\apps\backend\backend\aggregate_distributed_results.py:14: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
___ TestPoisonPillDataScenarios.test_aggregate_handles_invalid_chunk_format ___
backend\integration\test_infrastructure_edge_cases.py:576: in test_aggregate_handles_invalid_chunk_format
    from backend.aggregate_distributed_results import lambda_handler
..\backend\apps\backend\backend\aggregate_distributed_results.py:14: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
_______ TestPoisonPillDataScenarios.test_s3_load_handles_corrupted_json _______
backend\integration\test_infrastructure_edge_cases.py:620: in test_s3_load_handles_corrupted_json
    from backend.aggregate_distributed_results import _load_results_from_s3
..\backend\apps\backend\backend\aggregate_distributed_results.py:14: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
____ TestS3ConsistencyAndRetry.test_aggregation_waits_for_s3_availability _____
backend\integration\test_infrastructure_edge_cases.py:795: in test_aggregation_waits_for_s3_availability
    from backend.aggregate_distributed_results import _load_results_from_s3
..\backend\apps\backend\backend\aggregate_distributed_results.py:14: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
______ TestS3ConsistencyAndRetry.test_s3_upload_temporary_failure_retry _______
backend\integration\test_infrastructure_edge_cases.py:834: in test_s3_upload_temporary_failure_retry
    from backend.state_data_manager import store_to_s3
..\backend\apps\backend\backend\state_data_manager.py:22: in <module>
    from common.logging_utils import get_logger
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
____________ TestStoreTaskTokenCore.test_store_task_token_success _____________
backend\integration\test_resume_system_core.py:85: in test_store_task_token_success
    from backend.store_task_token import lambda_handler
..\backend\apps\backend\backend\store_task_token.py:21: in <module>
    TASK_TOKENS_TABLE = DynamoDBConfig.TASK_TOKENS_TABLE
                        ^^^^^^^^^^^^^^
E   NameError: name 'DynamoDBConfig' is not defined
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
______ TestStoreTaskTokenCore.test_store_task_token_requires_all_fields _______
backend\integration\test_resume_system_core.py:108: in test_store_task_token_requires_all_fields
    from backend.store_task_token import lambda_handler
..\backend\apps\backend\backend\store_task_token.py:21: in <module>
    TASK_TOKENS_TABLE = DynamoDBConfig.TASK_TOKENS_TABLE
                        ^^^^^^^^^^^^^^
E   NameError: name 'DynamoDBConfig' is not defined
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
_ TestInputSanitization.test_xss_patterns_escaped[input_data0-&lt;script&gt;] _
backend\unit\test_security_core.py:131: in test_xss_patterns_escaped
    from backend.correction_api_handler import sanitize_input_data
..\backend\apps\backend\backend\correction_api_handler.py:34: in <module>
    from .services.correction_service import CorrectionService
..\backend\apps\backend\backend\services\correction_service.py:16: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
------------------------------ Captured log call ------------------------------
WARNING  root:correction_api_handler.py:32 PyJWT not available - using mock authentication for development
______ TestInputSanitization.test_xss_patterns_escaped[input_data1-&lt;] ______
backend\unit\test_security_core.py:131: in test_xss_patterns_escaped
    from backend.correction_api_handler import sanitize_input_data
..\backend\apps\backend\backend\correction_api_handler.py:34: in <module>
    from .services.correction_service import CorrectionService
..\backend\apps\backend\backend\services\correction_service.py:16: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
------------------------------ Captured log call ------------------------------
WARNING  root:correction_api_handler.py:32 PyJWT not available - using mock authentication for development
_____________ TestInputSanitization.test_nested_object_sanitized ______________
backend\unit\test_security_core.py:139: in test_nested_object_sanitized
    from backend.correction_api_handler import sanitize_input_data
..\backend\apps\backend\backend\correction_api_handler.py:34: in <module>
    from .services.correction_service import CorrectionService
..\backend\apps\backend\backend\services\correction_service.py:16: in <module>
    from common.constants import DynamoDBConfig
..\backend\src\common\__init__.py:68: in <module>
    from .logging_utils import (
..\backend\src\common\logging_utils.py:18: in <module>
    from aws_lambda_powertools import Logger, Tracer, Metrics
E   ModuleNotFoundError: No module named 'aws_lambda_powertools'
----------------------------- Captured log setup ------------------------------
INFO     botocore.credentials:credentials.py:1252 Found credentials in environment variables.
------------------------------ Captured log call ------------------------------
WARNING  root:correction_api_handler.py:32 PyJWT not available - using mock authentication for development
============================== warnings summary ===============================
tests/backend/integration/test_api_contract.py::TestAPIResponseSchemaContract::test_correction_api_401_error_format
  C:\Users\gimgy\OneDrive\바탕 화면\analemma-fullstack-antigravity\backend\apps\backend\backend\models\checkpoint.py:24: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ExecutionCheckpoint(BaseModel):

tests/backend/integration/test_api_contract.py::TestAPIResponseSchemaContract::test_correction_api_401_error_format
tests/backend/integration/test_api_contract.py::TestAPIResponseSchemaContract::test_correction_api_401_error_format
tests/backend/integration/test_api_contract.py::TestAPIResponseSchemaContract::test_correction_api_401_error_format
tests/backend/integration/test_api_contract.py::TestAPIResponseSchemaContract::test_correction_api_401_error_format
tests/backend/integration/test_api_contract.py::TestAPIResponseSchemaContract::test_correction_api_401_error_format
tests/backend/integration/test_api_contract.py::TestAPIResponseSchemaContract::test_correction_api_401_error_format
  C:\Users\gimgy\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\_internal\_generate_schema.py:319: PydanticDeprecatedSince20: `json_encoders` is deprecated. See https://docs.pydantic.dev/2.12/concepts/serialization/#custom-serializers for alternatives. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    warnings.warn(

tests/backend/integration/test_api_contract.py::TestAPIResponseSchemaContract::test_correction_api_401_error_format
  C:\Users\gimgy\OneDrive\바탕 화면\analemma-fullstack-antigravity\backend\apps\backend\backend\models\plan_briefing.py:126: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class PlanBriefing(BaseModel):

tests/backend/integration/test_api_contract.py::TestAPIResponseSchemaContract::test_correction_api_401_error_format
  C:\Users\gimgy\OneDrive\바탕 화면\analemma-fullstack-antigravity\backend\apps\backend\backend\models\task_context.py:97: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class TaskContext(BaseModel):

tests/backend/integration/test_core_features.py: 226 warnings
  C:\Users\gimgy\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py:250: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
FAILED backend\integration\test_api_contract.py::TestAPIResponseSchemaContract::test_correction_api_401_error_format
FAILED backend\integration\test_correction_system_core.py::TestCorrectionSystemCore::test_auth_missing_returns_401
FAILED backend\integration\test_correction_system_core.py::TestCorrectionSystemCore::test_validation_missing_node_id
FAILED backend\integration\test_correction_system_core.py::TestCorrectionSystemCore::test_successful_correction_submission
FAILED backend\integration\test_correction_system_core.py::TestCorrectionSystemCore::test_large_payload_exceeds_max_length
FAILED backend\integration\test_correction_system_core.py::TestCorrectionSystemCore::test_invalid_json_returns_400
FAILED backend\integration\test_correction_system_core.py::TestCorrectionSystemCore::test_special_characters_handled
FAILED backend\integration\test_distributed_core.py::TestAggregateDistributedResultsCore::test_aggregate_empty_results_returns_failed
FAILED backend\integration\test_distributed_core.py::TestAggregateDistributedResultsCore::test_aggregate_multiple_results_success
FAILED backend\integration\test_distributed_core.py::TestAggregateDistributedResultsCore::test_aggregate_handles_partial_failure
FAILED backend\integration\test_execution_lifecycle.py::TestExecutionProgressNotifier::test_get_user_connection_ids_empty
FAILED backend\integration\test_execution_lifecycle.py::TestExecutionProgressNotifier::test_get_user_connections_invalid_owner[-True]
FAILED backend\integration\test_execution_lifecycle.py::TestExecutionProgressNotifier::test_get_user_connections_invalid_owner[None-True]
FAILED backend\integration\test_infrastructure_edge_cases.py::TestS3OffloadingEdgeCases::test_payload_size_calculation_using_production_code
FAILED backend\integration\test_infrastructure_edge_cases.py::TestS3OffloadingEdgeCases::test_compression_roundtrip_using_production_code
FAILED backend\integration\test_infrastructure_edge_cases.py::TestS3OffloadingEdgeCases::test_s3_store_using_production_code
FAILED backend\integration\test_infrastructure_edge_cases.py::TestS3OffloadingEdgeCases::test_payload_just_above_limit_requires_offload
FAILED backend\integration\test_infrastructure_edge_cases.py::TestMassiveAggregationEdgeCases::test_aggregate_distributed_results_with_production_code
FAILED backend\integration\test_infrastructure_edge_cases.py::TestMassiveAggregationEdgeCases::test_aggregate_with_failed_chunks_using_production_code
FAILED backend\integration\test_infrastructure_edge_cases.py::TestMassiveAggregationEdgeCases::test_aggregate_hitp_paused_chunks
FAILED backend\integration\test_infrastructure_edge_cases.py::TestMassiveAggregationEdgeCases::test_aggregate_empty_results
FAILED backend\integration\test_infrastructure_edge_cases.py::TestRecursiveExplosionScenarios::test_aggregate_result_itself_exceeds_limit
FAILED backend\integration\test_infrastructure_edge_cases.py::TestRecursiveExplosionScenarios::test_s3_offload_preserves_data_integrity_on_large_aggregation
FAILED backend\integration\test_infrastructure_edge_cases.py::TestPoisonPillDataScenarios::test_aggregate_handles_corrupted_chunk_data
FAILED backend\integration\test_infrastructure_edge_cases.py::TestPoisonPillDataScenarios::test_aggregate_handles_invalid_chunk_format
FAILED backend\integration\test_infrastructure_edge_cases.py::TestPoisonPillDataScenarios::test_s3_load_handles_corrupted_json
FAILED backend\integration\test_infrastructure_edge_cases.py::TestS3ConsistencyAndRetry::test_aggregation_waits_for_s3_availability
FAILED backend\integration\test_infrastructure_edge_cases.py::TestS3ConsistencyAndRetry::test_s3_upload_temporary_failure_retry
FAILED backend\integration\test_resume_system_core.py::TestStoreTaskTokenCore::test_store_task_token_success
FAILED backend\integration\test_resume_system_core.py::TestStoreTaskTokenCore::test_store_task_token_requires_all_fields
FAILED backend\unit\test_security_core.py::TestInputSanitization::test_xss_patterns_escaped[input_data0-&lt;script&gt;]
FAILED backend\unit\test_security_core.py::TestInputSanitization::test_xss_patterns_escaped[input_data1-&lt;]
FAILED backend\unit\test_security_core.py::TestInputSanitization::test_nested_object_sanitized
================ 33 failed, 161 passed, 235 warnings in 51.43s ================
