{
    "workflow_name": "HITP Segmentation Test Workflow",
    "description": "Human-in-the-loop segmentation test workflow",
    "nodes": [
        {
            "id": "prep_node",
            "type": "sets",
            "config": {
                "sets": [
                    {"key": "hitp_prepared", "value": true},
                    {"key": "prep_result", "value": {"status": "hitp_prep_completed", "ready_for_segmentation": true}}
                ]
            }
        },
        {
            "id": "validator_node",
            "type": "safe_operator",
            "config": {
                "strategy": "if_else",
                "params": {
                    "condition": "$.hitp_prepared and $.prep_result.ready_for_segmentation",
                    "then": "\u2705 SUCCESS: HITP preparation status confirmed",
                    "else": "\u274c FAILURE: HITP preparation failed"
                },
                "output_key": "TEST_RESULT"
            }
        },
        {
            "id": "approval_required_node",
            "type": "sets",
            "hitp": true,
            "config": {
                "sets": [
                    {"key": "requires_approval", "value": true},
                    {"key": "approval_result", "value": {"status": "awaiting_human_approval", "approval_type": "manual_review_required"}}
                ]
            }
        }
    ],
    "edges": [
        {
            "source": "prep_node",
            "target": "validator_node",
            "type": "normal"
        },
        {
            "source": "validator_node",
            "target": "approval_required_node",
            "type": "hitp"
        }
    ],
    "start_node": "prep_node"
}