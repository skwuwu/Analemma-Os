# Use the pre-built base image with all heavy dependencies
ARG BASE_IMAGE_URI=public.ecr.aws/lambda/python:3.12
FROM ${BASE_IMAGE_URI}

# Copy application code (dependencies already in base image)
COPY . /var/task/

# Install any additional requirements if they exist
RUN if [ -f /var/task/requirements.txt ]; then pip install --no-cache-dir -r /var/task/requirements.txt; fi

# Set working directory
WORKDIR /var/task

# Handler is specified in ImageConfig.Command in template.yaml
